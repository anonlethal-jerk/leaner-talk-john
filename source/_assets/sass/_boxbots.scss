//
// All BoxBots page
//
.body--boxbots {
	img {
		max-width: 100%;
	}
	.lazyload {
		image-rendering: pixelated;
	}
	.lazyloaded {
		image-rendering: auto;
	}
	.series_info {
		background: #aeb2aa;
	}
	.prj_info {
		background: #999682;
	}
	&.images--shadows {
		.series_info {
			background: #7071A9;
		}
		.prj_info {
			background: #478070;
		}
	}

	#popup {
		display: none;
		position: absolute;
		top: -100px; left: -200px;
		padding: 0;
		pointer-events: none;
		background: transparent;
		color: #fff;
		max-width: 50%;
		line-height: 0;
		// filter: drop-shadow(2px 2px 1px #fff)
		// 	drop-shadow(-2px 2px 1px #fff)
		// 	drop-shadow(2px -2px 1px #fff)
		// 	drop-shadow(-2px -2px 1px #fff);
		&.show {
			display: block;
		}
		img {
			max-height: 205px;
			width: auto;
		}
		.img--under {
			position: relative;
			top: 0;
			left: 0;
			opacity: 1;
		}
		.img--over {
			position: absolute;
			top: 0;
			left: 0;
			opacity: 1;
		}
	}

	.nav--boxbot,
	.nav--boxbots {
		margin: 0 1rem .5rem;
		display: flex;
		// flex-wrap: wrap;
		justify-content: center;
		align-items: baseline;

		a,
		button {
			flex: 1 1 auto;
			max-width: 8rem;
			min-width: 4rem;
			// display: block;
			height: 1.875rem;
			padding: .375rem .375rem;
			border: 0;
			margin: 0 .125rem;
			// overflow: hidden;
			// white-space: nowrap;
			// text-overflow: ellipsis;
			background: #fff;
			color: #000;
			font-size: .875rem;
			&:hover {
				background: #000;
				color: #fff;
			}
		}
		span{
			flex: 1 1 auto;
			max-width: 8rem;
			min-width: 4rem;
			height: 1.875rem;
			padding: .375rem .75rem;
			// overflow: hidden;
			// white-space: nowrap;
			// text-overflow: ellipsis;
			font-size: .875rem;
			text-align: right;
		}
		div {
			flex: 4 1 auto;
			display: flex;
			max-width: 32rem;
			min-width: 16rem;
			@media screen and (max-width: 480px) {
				flex-direction: column;
				flex: 1 1 auto;
				max-width: 8rem;
				min-width: 4rem;
				button {
					margin: 0 0 .125rem 0;
				}
			}
		}

	}
	&.images--shadow {
		.nav--boxbot,
		.nav--boxbots {
			a,
			button {
				background: #000;
				color: #fff;
				&:hover {
					background: #fff;
					color: #000;
				}
			}
		}
	}
	.nav--boxbot {
		a {
			width: 33%;
			display: block;
			height: 1.875rem;
			padding: .375rem .375rem;
			overflow: hidden;
			white-space: nowrap;
			text-overflow: ellipsis;
			background: #000;
			color: #fff;
			font-size: .875rem;
			&:hover {
				background: #fff;
				color: #000;
			}
		}
	}
	.nav--boxbot {
		&--next {
			float: left;
		}
		&--all {
			float: left;
			margin-left: .5%
		}
		&--prev {
			float: right;
		}
	}

	.sort--hide {
		display: none;
	}

	.images--boxbot,
	.images--boxbots {
		text-align: center;
		line-height: 1;
		background: #aeb2aa; // Old browsers
		background: linear-gradient(to bottom,  #aeb2aa 0%,#b6b9ba 54%, #c3c3c3 85%,#999682 100%); // W3C
		filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#aeb2aa', endColorstr='#999682',GradientType=0 ); // IE6-9
	}
	&.images--shadows {
		.images--boxbot,
		.images--boxbots {
			background: #7071A9; // Old browsers
			background: linear-gradient(to bottom,  #7071A9 0%,#74748B 72%,#478070 100%); // W3C
			filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#7071A9', endColorstr='#478070',GradientType=0 ); // IE6-9
		}
	}

	.sort--asc::before,
	.sort--desc::before,
	.sort--asc::after,
	.sort--desc::after {
		font-size: .625rem;
		top: -.125rem;
		position: relative;
		color: #666;
	}
	.sort--asc::before,
	.sort--asc::after {
		content: ' ▲ ';
	}
	.sort--desc::before,
	.sort--desc::after {
		content: ' ▼ ';
	}

	.images--boxbot,
	.images--boxbots {
		figure {
			display: inline-block;
			margin: .5rem 0;
			vertical-align: bottom;

			a,
			.bot_hover {
				display: block;
				position: relative;
				&:hover {
					.color {
						@keyframes blink {
							50% { opacity: 0.0; }
						}
						@-webkit-keyframes blink {
							50% { opacity: 0.0; }
						}
						animation: blink 1.5s linear 0s infinite;
						-webkit-animation: blink 1.5s linear 0s infinite;
					}
					.shadow {
						opacity: 1;
					}
					// filter: drop-shadow(1px 1px 1px rgba(128,128,128,.5))
					//         drop-shadow(-1px 1px 1px rgba(128,128,128,.5))
					//         drop-shadow(1px -1px 1px rgba(128,128,128,.5))
					//         drop-shadow(-1px -1px 1px rgba(128,128,128,.5));
				}
			}
			img {
				// margin: .1875rem;
				transition: opacity .8s ease-out;
			}
			.shadow {
				position: absolute;
				bottom: 0;
				left: 0;
				opacity: 0;
			}
			.color {
				position: relative;
				left: 0;
				opacity: 1;
			}
		}
	}
	&.images--shadows {
		.images--boxbot,
		.images--boxbots {
			figure {
				a,
				.bot_hover {
					&:hover {
						.shadow {
							@keyframes blink2 {
								50% { opacity: 0.0; }
							}
							@-webkit-keyframes blink2 {
								50% { opacity: 0.0; }
							}
							animation: blink2 1.5s linear 0s infinite;
							-webkit-animation: blink2 1.5s linear 0s infinite;
						}
						.color {
							opacity: 1;
							animation: none;
							-webkit-animation: none;
						}
					}
				}
				.shadow {
					opacity: 1;
					z-index: 10;
				}
				.color {
					opacity: 0;
					z-index: 9;
				}
			}
		}
	}


	.images--boxbot {
		position: absolute;
		top: 1.5rem;
		left: 0;
		right: 0;
		bottom: 0;
		.shadow,
		.color {
			// height: calc(100vh - 120px);
			height: calc(100vh - 120px); // Fallback for browsers that do not support Custom Properties
			height: calc((var(--vh, 1vh) * 100) - 120px);
			object-fit: scale-down;
		}
				.shadow {
					// opacity: 1 !important;
				}
				.color {
					// opacity: 1;
				}
	}
	&.images--both {
	.images--boxbot {
		figure {
			// width: 100%;
			.shadow {
				width: 48vw;
				opacity: 1;
				object-position: 100% 50%;
			}
			.color {
				width: 48vw;
				opacity: 1;
				object-position: 0% 50%;
				left: 50%;
			}
		}
	}
}
}
.stars {
	font-size: .625rem;
}
#sort--bots {
	figcaption {
		display: none;
		width: 1.0625rem;
	}
	&.sorting--rating {
		figcaption {
			display: inline-block;
		}
	}
	.stars {
		color: #000;
		.images--shadows  & {
			color: #fff;
		}
	}
}

//
// Single Boxbot Page
//
.body--boxbot {
	color: #000;
	#groundhog {
		top: 0;
		left: 80px;
		@media screen and (max-width: 480px) {
			left: 56px;
		}
	}
	#feralhog {
		top: 36px;
		left: 92px;
		@media screen and (max-width: 480px) {
			left: 68px;
		}
	}
	#boxhog {
		top: 0;
		right: 80px;
		@media screen and (max-width: 480px) {
			right: 56px;
		}
	}
}
.boxbot_viewer {
	position: absolute;
	top: 0;
	left: 0;
	width: 100vw;
	// mobile vh helper: https://css-tricks.com/the-trick-to-viewport-units-on-mobile/;
	height: 100vh; // Fallback for browsers that do not support Custom Properties
	height: calc(var(--vh, 1vh) * 100);
	overflow: hidden;
	text-align: center;
	background: #aeb2aa; // Old browsers
	background: linear-gradient(to bottom,  #aeb2aa 0%,#b6b9ba 54%, #c3c3c3 85%,#999682 100%); // W3C
	.images--shadows & {
		background: #7071A9; // Old browsers
		background: linear-gradient(to bottom,  #7071A9 0%,#74748B 72%,#478070 100%); // W3C
	}

	.stars {
		font-size: .75rem;
		color: #000;
		.images--shadows  & {
			color: #fff;
		}
	}
}
.viewer--image {
	position: absolute;
	top: 30px;
	left: 0;
	width: 100vw;
	// height: calc(100vh - 60px);
	height: calc(100vh - 60px); // Fallback for browsers that do not support Custom Properties
	height: calc((var(--vh, 1vh) * 100) - 60px);
	display: flex;
	justify-content: center;
	align-items: center;
	margin-bottom: 0;
	img {
		position: relative;
		// max-height: calc(100vh - 60px);
		max-height: calc(100vh - 60px); // Fallback for browsers that do not support Custom Properties
		max-height: calc((var(--vh, 1vh) * 100) - 60px);
		max-width: 100vw;
		object-fit: scale-down;
		transition: opacity 1s;
	}
	figcaption {
		position: absolute;
		bottom: -25px;
		left: 0;
		width: 100vw;
		font-size: 1rem;
	}
}
.viewer--prev,
.viewer--next {
	position: absolute;
	top: 3px;
	width: 72px;
	line-height: 1rem;
	.nav--prev,
	.nav--next {
		display: inline-block;
		color: $color-base-text;
		overflow: hidden;
		text-overflow: ellipsis;
		font-size: 0.75rem;
		margin-top: 0.25rem;
	}
	a {
		display: inline-block;
		color: $color-base-text;
		figure {
			position: absolute;
			top: 0;
			left: 0;
			width: 72px;
			margin-bottom: 0;
		}
		img {
			transition: opacity 1s;
		}
		.color {
		}
		.shadow {
		}
		figcaption {
			width: 72px;
			overflow: hidden;
			text-overflow: ellipsis;
		}
		&:hover,
		&:focus {
			figcaption {
				text-decoration: underline;
			}
			.color {
				@keyframes blinkColor {
					50% { opacity: 0.0;}
				}
				animation: blinkColor 1.5s linear 0s infinite;
			}
			.shadow {
				opacity: 1;
			}
		}
	}
	@media screen and (max-width: 480px) {
		width: 50px;
		a {
			figure {
				width: 50px;
			}
			figcaption {
				width: 50px;
			}
		}
	}
}
.viewer--prev {
	left: 3px;
}
.viewer--next {
	right: 3px;
}
.images--colors {
	.color {
		opacity: 1;
	}
	.shadow {
		opacity: 0;
	}
}
.images--shadows {
	.color {
		opacity: 0;
	}
	.shadow {
		opacity: 1;
	}
	.viewer--prev,
	.viewer--next {
		a:hover,
		a:focus {
			.color {
				@keyframes blinkShadow {
					50% { opacity: 1.0;}
				}
				animation: blinkShadow 1.5s linear 0s infinite;
			}
		}
	}
}

.nav--boxbot {
	display: block;
	position: absolute;
	top: 5px;
	left: 80px;
	right: 80px;
	text-align: center;
	overflow: visible;
	@media screen and (max-width: 480px) {
		left: 56px;
		right: 56px;
	}
	.btn--boxbot {
		padding: .375rem .5rem;
		border: 0;
		overflow: hidden;
		white-space: nowrap;
		text-overflow: ellipsis;
		background: #fff;
		color: #000;
		font-size: .875rem;
		line-height: 1;
		.images--shadows & {
			background: #000;
			color: #fff;
		}
		&:hover {
			background: #000;
			color: #fff;
			.images--shadows & {
				background: #fff;
				color: #000;
			}
		}
	}
}

